<style>
.header {
  background: #4B0082; /* Roxo Indigo (Tom da frase/Faixa) */
  color: white; /* Letras brancas */
  border-bottom: 1px solid rgba(68, 59, 130, 0.15);
  transition: all var(--transition-base);
  position: relative;
  z-index: var(--z-sticky);
}

{% if settings.enable_sticky_header %}
.header--sticky {
  position: sticky;
  top: 0;
  box-shadow: var(--shadow-md);
}
{% endif %}

.header__container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--spacing-md);
  gap: var(--spacing-lg);
  height: 90px; /* Ajustado para estilo Blu */
}

.header__logo {
  flex-shrink: 0;
}

.header__logo-link {
  display: block;
  font-size: 1.5rem;
  font-weight: 700;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.header__logo img {
  max-height: 60px; /* Reduzido de 80px para ficar mais estético */
  width: auto;
}

.header__nav {
  flex: 1;
  display: flex;
  justify-content: center;
}

.nav__list {
  display: flex;
  list-style: none;
  gap: var(--spacing-lg);
  align-items: center;
}

.nav__link {
  font-weight: 500;
  position: relative;
  padding: 0.5rem 0;
}

.nav__link::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--gradient-primary);
  transition: width var(--transition-base);
}

.nav__link:hover::after {
  width: 100%;
}

.header__actions {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.header__icon-btn {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: var(--color-background-secondary);
  transition: all var(--transition-base);
  position: relative;
}

.header__icon-btn:hover {
  background: var(--color-primary);
  color: white;
  transform: scale(1.1);
}

.cart-count {
  position: absolute;
  top: -4px;
  right: -4px;
  background: var(--gradient-accent);
  color: white;
  font-size: 0.75rem;
  font-weight: 700;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.mobile-menu-toggle {
  display: none;
}

/* Mobile Menu */
@media (max-width: 768px) {
  .header__nav {
    position: fixed;
    top: 0;
    right: -100%;
    width: 80%;
    max-width: 300px;
    height: 100vh;
    background: var(--color-background);
    box-shadow: var(--shadow-xl);
    padding: var(--spacing-2xl) var(--spacing-lg);
    transition: right var(--transition-base);
    z-index: var(--z-modal);
  }
  
  .header__nav.active {
    right: 0;
  }
  
  .nav__list {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--spacing-md);
  }
  
  .mobile-menu-toggle {
    display: flex;
  }
  
  .mobile-menu-close {
    position: absolute;
    top: var(--spacing-md);
    right: var(--spacing-md);
  }
}

[data-theme="dark"] .header {
  border-bottom-color: rgba(255, 255, 255, 0.1);
}

.header__cta-btn {
  padding: 0.5rem 1.5rem;
  background-color: var(--color-primary); /* Roxo do tema */
  color: white;
  border-radius: 9999px;
  text-decoration: none;
  font-weight: 600;
  font-size: 0.9rem;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  white-space: nowrap;
}

.header__cta-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3); 
  color: white;
}

@media (max-width: 768px) {
  .header__cta-btn {
    display: none;
  }
  
  /* Mobile Optimizations: Hide non-essential icons */
  #searchToggle,
  #darkModeToggle,
  [href*="/account"] {
    display: none !important;
  }

  /* Adjust icon size for mobile */
  .header__icon-btn {
    width: 36px; 
    height: 36px;
  }

  .header__actions {
    gap: 0.5rem;
  }
}
</style>

<header class="header {% if settings.enable_sticky_header %}header--sticky{% endif %}">
  <div class="container">
    <div class="header__container">
      <!-- Logo -->
      <div class="header__logo">
        {% if section.settings.logo != blank %}
          <a href="{{ routes.root_url }}" class="header__logo-link">
            <img src="{{ section.settings.logo | img_url: '200x' }}" alt="{{ shop.name }}" loading="lazy">
          </a>
        {% else %}
          <a href="{{ routes.root_url }}" class="header__logo-link">
            <img src="{{ 'logo.png' | asset_url }}" alt="{{ shop.name }}" loading="lazy">
          </a>
        {% endif %}
      </div>

      <!-- Navigation -->
      <nav class="header__nav" id="mobileMenu">

        
        <ul class="nav__list">
          <li class="nav__item">
            <a href="/collections/combos" class="nav__link">Combos</a>
          </li>
          <li class="nav__item">
            <a href="/pages/contact" class="nav__link">Fale Conosco</a>
          </li>
          <li class="nav__item">
            <a href="/pages/rastreio" class="nav__link">Rastreio</a>
          </li>
        </ul>
      </nav>

      <!-- Actions -->
      <div class="header__actions">
        
        <a href="/collections/all" class="btn btn--primary header__cta-btn">
          Compre Agora
        </a>

        <!-- Search -->
        <button class="header__icon-btn" id="searchToggle" aria-label="{{ 'general.search.submit' | t }}">
          {% render 'icon-search' %}
        </button>

        <!-- Account -->
        <a href="{{ routes.account_url }}" class="header__icon-btn" aria-label="{{ 'customer.account.title' | t }}">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" fill="currentColor"/>
            <path d="M10 12C4.47715 12 0 14.4772 0 17.5V20H20V17.5C20 14.4772 15.5228 12 10 12Z" fill="currentColor"/>
          </svg>
        </a>

        <!-- Cart -->
        <button class="header__icon-btn" id="cartToggle" aria-label="{{ 'general.cart.title' | t }}">
          {% render 'icon-cart' %}
          <span class="cart-count" id="cartCount">{{ cart.item_count }}</span>
        </button>

        <!-- Dark Mode Toggle -->
        {% if settings.enable_dark_mode %}
        <button class="header__icon-btn" id="darkModeToggle" aria-label="Alternar modo escuro">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 3V1M10 19V17M17 10H19M1 10H3M15.657 4.343L17.071 2.929M2.929 17.071L4.343 15.657M15.657 15.657L17.071 17.071M2.929 2.929L4.343 4.343M14 10C14 12.2091 12.2091 14 10 14C7.79086 14 6 12.2091 6 10C6 7.79086 7.79086 6 10 6C12.2091 6 14 7.79086 14 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
        {% endif %}

        <!-- Mobile Menu Toggle -->
        <button class="header__icon-btn mobile-menu-toggle" id="mobileMenuToggle" aria-label="{{ 'general.accessibility.open_menu' | t }}">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
</header>

{% schema %}
{
  "name": "Cabeçalho",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu",
      "default": "main-menu"
    }
  ]
}
{% endschema %}
